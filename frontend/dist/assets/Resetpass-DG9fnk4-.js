import{r as v,a as i}from"./api-D12zC24N.js";import{E as y}from"./index-D85MJpsm.js";import{m as C,Z as w,d as x,a as c,ah as p,p as u,q as d,U as e,O as n,S as m,R,u as f,F as k}from"./vue-DRvwLzXx.js";import"./base-CSL5GuM5.js";import"./index-DW3BOA4A.js";import"./crypto-BjADBdty.js";const T={key:0},F=C({__name:"Resetpass",setup(E){document.title="重置密码列表";let o=w([]);x(async()=>{let a=await v();o.push(...a)});const t=c(),_=c(),h=a=>{t.value=a},b=async()=>{let a="确定要重置用户"+t.value.username+"的密码吗？";if(confirm(a)==!0&&(console.log("激活"),(await i({action:"reset",id:t.value.id})).code==200)){let s=o.indexOf(t.value);s>-1&&o.splice(s,1)}},g=async()=>{let a="确定要删除用户"+t.value.username+"的重置密码申请吗？";if(confirm(a)==!0&&(console.log("删除"),(await i({action:"delete",id:t.value.id})).code==200)){let s=o.indexOf(t.value);s>-1&&o.splice(s,1)}};return(a,r)=>{const s=p("el-button"),l=p("el-table-column");return u(),d(k,null,[t.value?(u(),d("div",T,[e(s,{type:"primary",onClick:b},{default:n(()=>[m("重置")]),_:1}),e(s,{type:"primary",onClick:g},{default:n(()=>[m("删除")]),_:1})])):R("",!0),e(f(y),{ref_key:"singleTableRef",ref:_,data:f(o),stripe:"","highlight-current-row":"",style:{width:"100%"},onCurrentChange:h},{default:n(()=>[e(l,{prop:"id",label:"id",width:"80"}),e(l,{prop:"username",label:"名字",width:"80"}),e(l,{prop:"phone",label:"手机"}),e(l,{prop:"times",label:"次数"}),e(l,{prop:"create_time",label:"创建时间"}),e(l,{prop:"update_time",label:"更新时间"})]),_:1},8,["data"])],64)}}});export{F as default};
